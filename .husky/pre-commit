#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo 'PRE-TESTING COMMIT ğŸ¤'

# ============================== FORMAT  ==============================
npm run format ||
(
    echo 'âŒ Format Failed âŒ';
    false;
)

# ============================== check PRETTIER ==============================
npm run check-format ||
(
    echo 'âŒ Prettier check failed. (try to : npm run format) âŒ';
    false;
)

# ============================== check ESLINT ==============================

npm run lint-fix ||
(
        echo 'âŒ ESLint check failed. âŒ'
        false; 
)

# ============================== check TS CONFIG ==============================

npm run check-types ||
(
    echo 'âŒ TypeScript check failed. âŒ'
    false;
)

# ============================== TRY TO BUILD ==============================

echo 'ğŸ¤” Everything looks good. Try to npm run build ğŸ¤”'

# ============================== check RUN BUILD ==============================

# npm run build ||
# (
#     echo 'âŒğŸ”¨ run build failed âŒğŸ”¨'
#     false;
# )

# ============================== SUCCESS ==============================

echo 'âœ… Commit done with SUCCESS. âœ…'